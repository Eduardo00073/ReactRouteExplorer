{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\GitHub\\\\ReactRouteExplorer\\\\ReactRouteExplorer\\\\src\\\\pages\\\\MapPage.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { GoogleMap, Marker, LoadScript, DirectionsService, DirectionsRenderer } from \"@react-google-maps/api\";\nimport { REACT_APP_GOOGLE_API_KEY } from \"../App\";\nimport \"./MapPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapPage = () => {\n  _s();\n  const [map, setMap] = React.useState();\n  const [searchBoxA, setSearchBoxA] = React.useState();\n  const [searchBoxB, setSearchBoxB] = React.useState();\n  const [pointA, setPointA] = React.useState();\n  const [pointB, setPointB] = React.useState();\n  const [origin, setOrigin] = React.useState(null);\n  const [destination, setDestination] = React.useState(null);\n  const [response, setResponse] = React.useState(null);\n  const position = {\n    lat: -20.275986400323127,\n    lng: -50.541355008625324\n  };\n  const onMapLoad = map => {\n    setMap(map);\n  };\n  const onLoadA = ref => {\n    setSearchBoxA(ref);\n  };\n  const onLoadB = ref => {\n    setSearchBoxB(ref);\n  };\n  const onPlacesChangedA = () => {\n    var _place$geometry, _place$geometry$locat, _place$geometry2, _place$geometry2$loca;\n    const places = searchBoxA.getPlaces();\n    console.log(places);\n    const place = places[0];\n    const location = {\n      lat: (place === null || place === void 0 ? void 0 : (_place$geometry = place.geometry) === null || _place$geometry === void 0 ? void 0 : (_place$geometry$locat = _place$geometry.location) === null || _place$geometry$locat === void 0 ? void 0 : _place$geometry$locat.lat()) || 0,\n      lng: (place === null || place === void 0 ? void 0 : (_place$geometry2 = place.geometry) === null || _place$geometry2 === void 0 ? void 0 : (_place$geometry2$loca = _place$geometry2.location) === null || _place$geometry2$loca === void 0 ? void 0 : _place$geometry2$loca.lng()) || 0\n    };\n    setPointA(location);\n    setOrigin(null);\n    setDestination(null);\n    setResponse(null);\n    map === null || map === void 0 ? void 0 : map.panTo(location);\n  };\n  const onPlacesChangedB = () => {\n    var _place$geometry3, _place$geometry3$loca, _place$geometry4, _place$geometry4$loca;\n    const places = searchBoxB.getPlaces();\n    console.log(places);\n    const place = places[0];\n    const location = {\n      lat: (place === null || place === void 0 ? void 0 : (_place$geometry3 = place.geometry) === null || _place$geometry3 === void 0 ? void 0 : (_place$geometry3$loca = _place$geometry3.location) === null || _place$geometry3$loca === void 0 ? void 0 : _place$geometry3$loca.lat()) || 0,\n      lng: (place === null || place === void 0 ? void 0 : (_place$geometry4 = place.geometry) === null || _place$geometry4 === void 0 ? void 0 : (_place$geometry4$loca = _place$geometry4.location) === null || _place$geometry4$loca === void 0 ? void 0 : _place$geometry4$loca.lng()) || 0\n    };\n    setPointB(location);\n    setOrigin(null);\n    setDestination(null);\n    setResponse(null);\n    map === null || map === void 0 ? void 0 : map.panTo(location);\n  };\n  const traceRoute = () => {\n    if (pointA && pointB) {\n      setOrigin(pointA);\n      setDestination(pointB);\n    }\n  };\n  const directionsServiceOptions =\n  // @ts-ignore\n  React.useMemo(() => {\n    return {\n      origin,\n      destination,\n      travelMode: \"DRIVING\"\n    };\n  }, [origin, destination]);\n  const directionsCallback = React.useCallback(res => {\n    if (res !== null && res.status === \"OK\") {\n      setResponse(res);\n    } else {\n      console.log(res);\n    }\n  }, []);\n  const directionsRendererOptions = React.useMemo(() => {\n    return {\n      directions: response\n    };\n  }, [response]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map\",\n    children: /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: REACT_APP_GOOGLE_API_KEY,\n      libraries: [\"places\"],\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        onLoad: onMapLoad,\n        mapContainerStyle: {\n          width: \"100%\",\n          height: \"100%\"\n        },\n        center: position,\n        zoom: 15,\n        children: [!response && pointA && /*#__PURE__*/_jsxDEV(Marker, {\n          position: pointA\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 35\n        }, this), !response && pointB && /*#__PURE__*/_jsxDEV(Marker, {\n          position: pointB\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 35\n        }, this), origin && destination && /*#__PURE__*/_jsxDEV(DirectionsService, {\n          options: directionsServiceOptions,\n          callback: directionsCallback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), response && directionsRendererOptions && /*#__PURE__*/_jsxDEV(DirectionsRenderer, {\n          options: directionsRendererOptions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(MapPage, \"OD4z4JJSioSlwRdTTlgw09v7cio=\");\n_c = MapPage;\nexport default MapPage;\nvar _c;\n$RefreshReg$(_c, \"MapPage\");","map":{"version":3,"names":["React","GoogleMap","Marker","LoadScript","DirectionsService","DirectionsRenderer","REACT_APP_GOOGLE_API_KEY","jsxDEV","_jsxDEV","MapPage","_s","map","setMap","useState","searchBoxA","setSearchBoxA","searchBoxB","setSearchBoxB","pointA","setPointA","pointB","setPointB","origin","setOrigin","destination","setDestination","response","setResponse","position","lat","lng","onMapLoad","onLoadA","ref","onLoadB","onPlacesChangedA","_place$geometry","_place$geometry$locat","_place$geometry2","_place$geometry2$loca","places","getPlaces","console","log","place","location","geometry","panTo","onPlacesChangedB","_place$geometry3","_place$geometry3$loca","_place$geometry4","_place$geometry4$loca","traceRoute","directionsServiceOptions","useMemo","travelMode","directionsCallback","useCallback","res","status","directionsRendererOptions","directions","className","children","googleMapsApiKey","libraries","onLoad","mapContainerStyle","width","height","center","zoom","fileName","_jsxFileName","lineNumber","columnNumber","options","callback","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/GitHub/ReactRouteExplorer/ReactRouteExplorer/src/pages/MapPage.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n  GoogleMap,\n  Marker,\n  LoadScript,\n  StandaloneSearchBox,\n  DirectionsService,\n  DirectionsRenderer,\n} from \"@react-google-maps/api\";\nimport { REACT_APP_GOOGLE_API_KEY } from \"../App\";\nimport \"./MapPage.css\";\n\nexport interface MapPageProps { }\n\nconst MapPage = () => {\n  const [map, setMap] = React.useState<google.maps.Map>();\n  const [searchBoxA, setSearchBoxA] =\n    React.useState<google.maps.places.SearchBox>();\n  const [searchBoxB, setSearchBoxB] =\n    React.useState<google.maps.places.SearchBox>();\n  const [pointA, setPointA] = React.useState<google.maps.LatLngLiteral>();\n  const [pointB, setPointB] = React.useState<google.maps.LatLngLiteral>();\n\n  const [origin, setOrigin] = React.useState<google.maps.LatLngLiteral | null>(\n    null\n  );\n  const [destination, setDestination] =\n    React.useState<google.maps.LatLngLiteral | null>(null);\n\n  const [response, setResponse] =\n    React.useState<google.maps.DistanceMatrixResponse | null>(null);\n\n  const position = {\n    lat: -20.275986400323127,\n    lng: -50.541355008625324,\n  };\n\n  const onMapLoad = (map: google.maps.Map) => {\n    setMap(map);\n  };\n\n  const onLoadA = (ref: google.maps.places.SearchBox) => {\n    setSearchBoxA(ref);\n  };\n\n  const onLoadB = (ref: google.maps.places.SearchBox) => {\n    setSearchBoxB(ref);\n  };\n\n  const onPlacesChangedA = () => {\n    const places = searchBoxA!.getPlaces();\n    console.log(places);\n    const place = places![0];\n    const location = {\n      lat: place?.geometry?.location?.lat() || 0,\n      lng: place?.geometry?.location?.lng() || 0,\n    };\n    setPointA(location);\n    setOrigin(null);\n    setDestination(null);\n    setResponse(null);\n    map?.panTo(location);\n  };\n\n  const onPlacesChangedB = () => {\n    const places = searchBoxB!.getPlaces();\n    console.log(places);\n    const place = places![0];\n    const location = {\n      lat: place?.geometry?.location?.lat() || 0,\n      lng: place?.geometry?.location?.lng() || 0,\n    };\n    setPointB(location);\n    setOrigin(null);\n    setDestination(null);\n    setResponse(null);\n    map?.panTo(location);\n  };\n\n  const traceRoute = () => {\n    if (pointA && pointB) {\n      setOrigin(pointA);\n      setDestination(pointB);\n    }\n  };\n\n  const directionsServiceOptions =\n    // @ts-ignore\n    React.useMemo<google.maps.DirectionsRequest>(() => {\n      return {\n        origin,\n        destination,\n        travelMode: \"DRIVING\",\n      };\n    }, [origin, destination]);\n\n  const directionsCallback = React.useCallback((res) => {\n    if (res !== null && res.status === \"OK\") {\n      setResponse(res);\n    } else {\n      console.log(res);\n    }\n  }, []);\n\n  const directionsRendererOptions = React.useMemo<any>(() => {\n    return {\n      directions: response,\n    };\n  }, [response]);\n\n  return (\n    <div className=\"map\">\n      <LoadScript\n        googleMapsApiKey={REACT_APP_GOOGLE_API_KEY}\n        libraries={[\"places\"]}\n      >\n        <GoogleMap\n\n          onLoad={onMapLoad}\n          mapContainerStyle={{ width: \"100%\", height: \"100%\" }}\n          center={position}\n          zoom={15}\n        >\n\n\n          {!response && pointA && <Marker position={pointA} />}\n          {!response && pointB && <Marker position={pointB} />}\n\n          {origin && destination && (\n            <DirectionsService\n              options={directionsServiceOptions}\n              callback={directionsCallback}\n            />\n          )}\n\n          {response && directionsRendererOptions && (\n            <DirectionsRenderer options={directionsRendererOptions} />\n          )}\n        </GoogleMap>\n      </LoadScript>\n    </div>\n\n  );\n};\n\nexport default MapPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}